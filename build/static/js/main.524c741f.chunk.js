(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(t,e,n){t.exports=n(69)},66:function(t,e){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(28),i=n.n(o),l=n(29),r=n(30),s=n(33),u=n(31),h=n(34),p=n(1),f=n(32),d=n.n(f),m=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t))).API_URL="http://localhost:8080/api",n.SOCKET_URL="http://localhost:8080/my_app",n.state={data:[],inputData:""},n.getData=n.getData.bind(Object(p.a)(Object(p.a)(n))),n.click=n.click.bind(Object(p.a)(Object(p.a)(n))),n.change=n.change.bind(Object(p.a)(Object(p.a)(n))),n.postData=n.postData.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=d()("http://localhost:8080/my_app");e.on("connect",function(){console.log("Connected to socket.io!"),e.emit("hello","Kristian","howdy")}),e.on("new-data",function(e){console.log("server msg: ".concat(e.msg)),t.getData()})}},{key:"getData",value:function(){var t=this;fetch("".concat(this.API_URL,"/data")).then(function(t){return t.json()}).then(function(e){t.setState({data:e})}).catch(function(t){console.error("Error when fetching: ",t)})}},{key:"postData",value:function(t){fetch("".concat(this.API_URL,"/data"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({data:t})}).then(function(t){return t.json()}).then(function(t){return console.info(t)}).catch(function(t){console.error("Error when posting: ",t)})}},{key:"change",value:function(t){this.setState({input:t.target.value})}},{key:"click",value:function(){console.log("click",this.state.input),this.postData(this.state.input)}},{key:"render",value:function(){var t=this.state.data.map(function(t,e){return c.a.createElement("li",{key:e},t)});return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"MERN Deployment Example"),c.a.createElement("p",null,"Data from API:"),c.a.createElement("ol",null,t),c.a.createElement("p",null,"Post new data:"),c.a.createElement("input",{onChange:this.change,type:"text"}),c.a.createElement("button",{onClick:this.click},"Post"))}}]),e}(a.Component);i.a.render(c.a.createElement(m,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.524c741f.chunk.js.map